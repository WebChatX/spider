var SpiderClient=function(e){"use strict";const n={loginSpider:"LOGIN_SPIDER"},s=Object.values(n);class i{constructor(e,n,i,t){if(!s.includes(e))throw new Error(`Unsupported message type: ${e}`);this.msgType=e,this.data=n,this.senderID=i,this.receiverID=t}static serialize(e){return JSON.stringify(e)}static deserialize(e){return JSON.parse(e)}static createMsg(e,n,s,t){const r=new i(e,n,s,t);return i.serialize(r)}}return e.SpiderClientEngine=class{constructor(e,n){this._initEngine(e,n)}_initEngine(e,s){this.engine=new WebSocket(e),this.engine.onopen=()=>{console.log("------open------");const e=i.createMsg(n.loginSpider,null,s,null);this.engine.send(e)},this.engine.onclose=()=>{console.log("------close------")},this.engine.onerror=()=>{console.log("------error------")},this.engine.onmessage=()=>{console.log("------message------")}}},e}({});
